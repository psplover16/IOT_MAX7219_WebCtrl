import{r as p,i as V,o as M,c as _,j as N,F as x,b as l,n as D,u as F,d as B,w as P,k as G,t as I,p as Q}from"./index-C4wMc-Dk.js";import"./screenWidth-CASDHe0Z.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S=["data-col","data-row","data-tableNum"],W=16,A=8,$=8,U={__name:"func",props:{penMode:Number},emits:["getNoticeWord"],setup(T,{emit:h}){const m=T;p(0);const r=p([]),b=p(!1),i=s=>{b.value=s},f=(s,e,u)=>{b.value&&(r.value[s][e][u]=m.penMode)},g=()=>{const e=window.event.touches[0],u=e.clientX,n=e.clientY,a=document.elementFromPoint(u,n),d=a==null?void 0:a.getAttribute("data-col"),v=a==null?void 0:a.getAttribute("data-row"),C=a==null?void 0:a.getAttribute("data-tableNum");d&&f(C-1,v-1,d-1)},w=s=>{const e=s.clientX,u=s.clientY,n=document.elementFromPoint(e,u),a=n==null?void 0:n.getAttribute("data-col"),d=n==null?void 0:n.getAttribute("data-row"),v=n==null?void 0:n.getAttribute("data-tableNum");a&&f(v-1,d-1,a-1)},o=()=>{i(!1)},t=()=>{i(!0)},c=h,k=()=>{c("getNoticeWord",r.value)};return V(()=>{for(let s=0;s<W;s++){r.value[s]=r.value[s]||[];for(let e=0;e<$;e++){r.value[s][e]=r.value[s][e]||[];for(let u=0;u<A;u++)r.value[s][e][u]=0}}k()}),(s,e)=>(M(),_(x,null,N(W,u=>l("table",{border:"1",onTouchstart:e[0]||(e[0]=n=>i(!0)),onTouchend:e[1]||(e[1]=n=>i(!1)),onTouchmove:e[2]||(e[2]=n=>g()),onMousedown:t,onMouseup:o,onMousemove:w},[(M(),_(x,null,N($,n=>l("tr",null,[(M(),_(x,null,N(A,a=>{var d,v;return l("td",{"data-col":a,"data-row":n,"data-tableNum":u,class:D([(v=(d=r.value[u-1])==null?void 0:d[n-1])!=null&&v[a-1]?"bgred":"bgwhite"])},null,10,S)}),64))])),64))],32)),64))}},X=y(U,[["__scopeId","data-v-90f2fedd"]]),Y={class:"max7219"},q={class:"max7219View"},z={class:"btnGroup"},E={__name:"max7219",props:{msg:String},setup(T){const h=F(),m=p("max7219-mqtt1"),r=p(1),b=p(),i=o=>{b.value=o},f=()=>{const o=b.value,t=[];return t[0]=o[15],t[1]=o[14],t[2]=o[13],t[3]=o[12],t[4]=o[7],t[5]=o[6],t[6]=o[5],t[7]=o[4],t[8]=o[11],t[9]=o[10],t[10]=o[9],t[11]=o[8],t[12]=o[3],t[13]=o[2],t[14]=o[1],t[15]=o[0],t},g=o=>{let t="";for(let c=0;c<o.length;c++)Array.isArray(o[c])?t+=g(o[c]):t+=o[c];return t},w=()=>{console.log(g(f())),Q(m.value,g(f())),h.push("/")};return(o,t)=>(M(),_("div",Y,[l("div",q,[B(X,{penMode:r.value,onGetNoticeWord:i},null,8,["penMode"])]),l("div",z,[P(l("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=c=>m.value=c),placeholder:"pub至哪個MQTT"},null,512),[[G,m.value]]),l("button",{onClick:w},"send"),l("button",{onClick:t[1]||(t[1]=c=>r.value=r.value==1?0:1)},I(r.value==1?"pen":"eraser"),1),l("button",{onClick:t[2]||(t[2]=c=>o.$router.push("/"))},"back")])]))}},j=y(E,[["__scopeId","data-v-4772732c"]]);export{j as default};
